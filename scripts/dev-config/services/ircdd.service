[Unit]
Description=IRCDistributedDaemon
After=docker.service
Requires=docker.service

[Service]
TimeoutStartSec=5
ExecStartPre=-/usr/bin/docker kill ircdd-%m
ExecStartPre=-/usr/bin/docker rm ircdd-%m
ExecStartPre=/usr/bin/docker build -t ircdd /home/core/ircdd/scripts/dev-config

ExecStart=/usr/bin/docker run -v /home/core/ircdd:/data/ircdd-git --name ircdd-%m ircdd

ExecStop=/usr/bin/docker stop ircdd-%m
